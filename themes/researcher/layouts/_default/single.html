{{ define "main" }}
<div class="container">
    {{ partial "breadcrumbs.html" . }}
    <div class="post-header">
        <h1>{{ .Title }}</h1>
        <div class="post-meta">
            {{ if .Date }}
            <span class="post-date">{{ .Date.Format "January 2, 2006" }}</span>
            {{ end }}
            <span class="reading-time"><i class="far fa-clock"></i> {{ .ReadingTime }} min read</span>
        </div>
    </div>

    {{ if .Params.toc }}
    <aside class="table-of-contents">
        <h3>Table of Contents</h3>
        {{ .TableOfContents }}
    </aside>
    {{ end }}

    <div class="post-content">
        {{ .Content }}
    </div>

    {{ $related := .Site.RegularPages.Related . | first 3 }}
    {{ with $related }}
    <div class="related-content">
        <h3>Related Materials</h3>
        <div class="related-grid">
            {{ range . }}
            <div class="related-card">
                <a href="{{ .RelPermalink }}">{{ .Title }}</a>
                <span class="related-meta">{{ .ReadingTime }} min read</span>
            </div>
            {{ end }}
        </div>
    </div>
    {{ end }}
</div>
{{ end }}